import tkinter as tk
import random
import time
import math
import winsound  # Для Windows
import threading

class CreepyTextApp:
    def __init__(self):
        self.root = tk.Tk()
        self.root.attributes('-fullscreen', True)
        self.root.configure(bg='#000000')
        
        # Получение размеров экрана
        self.screen_width = self.root.winfo_screenwidth()
        self.screen_height = self.root.winfo_screenheight()
        
        # Создание Canvas для анимации
        self.canvas = tk.Canvas(self.root, bg='#000000', highlightthickness=0)
        self.canvas.pack(fill=tk.BOTH, expand=True)
        
        # Основной текст - как ты просил
        self.main_text = "не делай больше так друг"
        
        # Криповая цветовая палитра
        self.colors = {
            'blood': ['#8B0000', '#660000', '#4C0000', '#330000', '#1A0000', '#FF0000'],
            'dark': ['#000000', '#0A0A0A', '#111111', '#1A1A1A', '#222222'],
            'neon': ['#FF0000', '#FF3333', '#FF6666', '#CC0000', '#990000'],
            'glow': ['#FF0000', '#CC0000', '#990000', '#660000'],
            'web': ['#404040', '#505050', '#606060', '#707070']
        }
        
        # Голоса (для атмосферы) - добавим звуковые эффекты текстом
        self.voices = [
            "ТЫ НАРУШИЛ ЗАКОН...",
            "СТАТЬЯ ЗА СТАТЬЕЙ...",
            "ПРИГОВОР НЕИЗБЕЖЕН...",
            "ТЮРЬМА ЖДЕТ...",
            "СУДИМОСТЬ НАВСЕГДА..."
        ]
        
        # Переменные анимации
        self.scroll_position = self.screen_height
        self.title_y = self.screen_height // 2
        self.start_time = time.time()
        self.start_scrolling = False
        self.scroll_speed = 3
        self.glow_phase = 0
        self.voice_index = 0
        self.voice_timer = 0
        self.laugh_played = False
        self.laugh_start_time = 0
        
        # Запускаем страшный смех при старте
        self.play_scary_laugh()
        
        # Криповые эффекты
        self.create_creepy_background()
        self.create_blood_rivers()
        self.create_spider_webs()
        self.create_floating_skulls()
        self.create_dripping_blood()
        
        # Создание основного текста
        self.create_creepy_title()
        
        # Текст смеха на экране
        self.laugh_texts = []
        self.create_laugh_text()
        
        # Список статей УК РФ с описаниями
        self.articles = self.generate_creepy_articles()
        self.article_ids = []
        self.create_articles()
        
        # Голосовые сообщения
        self.voice_ids = []
        
        # Инструкция для выхода (криповый стиль)
        self.exit_text = self.canvas.create_text(
            self.screen_width - 150,
            self.screen_height - 30,
            text="ESC - выход",
            font=('Courier New', 18, 'bold'),
            fill='#FF0000',
            anchor=tk.SE
        )
        
        # Привязка клавиш
        self.root.bind('<Escape>', lambda e: self.root.destroy())
        
        # Запуск анимации
        self.animate()
    
    def play_scary_laugh(self):
        """Воспроизведение страшного смеха"""
        # Для Windows используем winsound
        try:
            # Создаем пугающий звук смеха с помощью частот
            def play_laugh_sound():
                # Несколько частот для создания "смеющегося" звука
                frequencies = [200, 150, 300, 250, 180, 350, 280]
                durations = [200, 150, 300, 250, 200, 350, 400]
                
                for freq, duration in zip(frequencies, durations):
                    winsound.Beep(freq, duration)
                    time.sleep(0.05)
                
                # Зловещий низкий смех
                for _ in range(3):
                    winsound.Beep(180, 300)
                    time.sleep(0.1)
                    winsound.Beep(120, 400)
                    time.sleep(0.15)
                
                # Высокий пронзительный смех
                for _ in range(2):
                    winsound.Beep(800, 200)
                    winsound.Beep(600, 150)
                    winsound.Beep(900, 180)
                    time.sleep(0.1)
            
            # Запускаем в отдельном потоке
            laugh_thread = threading.Thread(target=play_laugh_sound)
            laugh_thread.daemon = True
            laugh_thread.start()
            
            self.laugh_start_time = time.time()
            
        except Exception as e:
            print(f"Не удалось воспроизвести звук: {e}")
            # Если winsound не работает, просто отмечаем что смех был
            self.laugh_played = True
    
    def create_laugh_text(self):
        """Создание текста смеха на экране"""
        laugh_phrases = [
            "ХА-ХА-ХА!",
            "МУА-ХА-ХА!",
            "УГУ-ГУ-ГУ!",
            "КХЕ-КХЕ-КХЕ!",
            "БУ-ГА-ГА!",
            "А-ХА-ХА-ХА!",
            "ГИ-ГИ-ГИ!"
        ]
        
        # Создаем несколько текстов смеха в случайных местах
        for _ in range(8):
            x = random.randint(50, self.screen_width - 50)
            y = random.randint(50, self.screen_height - 50)
            phrase = random.choice(laugh_phrases)
            
            laugh_text = self.canvas.create_text(
                x, y,
                text=phrase,
                font=('Impact', random.randint(30, 60)),
                fill=random.choice(['#FF0000', '#8B0000', '#660000']),
                justify=tk.CENTER
            )
            self.laugh_texts.append({
                'id': laugh_text,
                'x': x,
                'y': y,
                'phrase': phrase,
                'size': random.randint(30, 60),
                'dx': random.uniform(-2, 2),
                'dy': random.uniform(-2, 2),
                'pulse': random.uniform(0, math.pi * 2),
                'life': random.uniform(2, 4)  # Время жизни текста
            })
    
    def animate_laugh_text(self, current_time):
        """Анимация текста смеха"""
        elapsed_time = current_time - self.laugh_start_time
        
        # Удаляем старые тексты и создаем новые
        texts_to_remove = []
        
        for i, laugh in enumerate(self.laugh_texts):
            laugh['life'] -= 0.016  # Уменьшаем время жизни
            
            if laugh['life'] <= 0:
                texts_to_remove.append(i)
                continue
            
            # Движение текста
            laugh['x'] += laugh['dx']
            laugh['y'] += laugh['dy']
            
            # Отскок от краев
            if laugh['x'] < 50 or laugh['x'] > self.screen_width - 50:
                laugh['dx'] = -laugh['dx']
            if laugh['y'] < 50 or laugh['y'] > self.screen_height - 50:
                laugh['dy'] = -laugh['dy']
            
            # Пульсация
            laugh['pulse'] += 0.1
            pulse_size = math.sin(laugh['pulse']) * 5
            
            # Обновляем позицию и размер
            self.canvas.coords(laugh['id'], laugh['x'], laugh['y'])
            
            # Меняем размер шрифта для эффекта пульсации
            new_size = max(20, laugh['size'] + int(pulse_size))
            self.canvas.itemconfig(laugh['id'], font=('Impact', new_size))
            
            # Меняем цвет для мерцания
            if random.random() < 0.05:
                self.canvas.itemconfig(laugh['id'], fill=random.choice(['#FF0000', '#8B0000', '#660000', '#FF3333']))
        
        # Удаляем старые тексты и создаем новые
        for i in reversed(texts_to_remove):
            self.canvas.delete(self.laugh_texts[i]['id'])
            del self.laugh_texts[i]
            
            # Создаем новый текст смеха
            if elapsed_time < 5:  # Только в первые 5 секунд
                x = random.randint(50, self.screen_width - 50)
                y = random.randint(50, self.screen_height - 50)
                phrases = ["ХА-ХА-ХА!", "МУА-ХА-ХА!", "УГУ-ГУ-ГУ!", "КХЕ-КХЕ-КХЕ!"]
                phrase = random.choice(phrases)
                
                laugh_text = self.canvas.create_text(
                    x, y,
                    text=phrase,
                    font=('Impact', random.randint(30, 60)),
                    fill=random.choice(['#FF0000', '#8B0000', '#660000']),
                    justify=tk.CENTER
                )
                self.laugh_texts.append({
                    'id': laugh_text,
                    'x': x,
                    'y': y,
                    'phrase': phrase,
                    'size': random.randint(30, 60),
                    'dx': random.uniform(-2, 2),
                    'dy': random.uniform(-2, 2),
                    'pulse': random.uniform(0, math.pi * 2),
                    'life': random.uniform(2, 4)
                })
        
        # Добавляем случайные вспышки во время смеха
        if elapsed_time < 5 and random.random() < 0.1:
            self.create_flash_effect()
    
    def create_flash_effect(self):
        """Создание вспышки на экране"""
        # Красная вспышка
        flash = self.canvas.create_rectangle(
            0, 0, self.screen_width, self.screen_height,
            fill='#FF0000',
            outline='',
            width=0
        )
        
        # Удаляем вспышку через короткое время
        self.root.after(50, lambda: self.canvas.delete(flash))
        
        # Белая вспышка (более яркая)
        self.root.after(30, lambda: self.create_white_flash())
    
    def create_white_flash(self):
        """Создание белой вспышки"""
        flash = self.canvas.create_rectangle(
            0, 0, self.screen_width, self.screen_height,
            fill='#FFFFFF',
            outline='',
            width=0
        )
        self.root.after(20, lambda: self.canvas.delete(flash))
    
    def generate_creepy_articles(self):
        """Генерация списка статей с описаниями"""
        articles = []
        
        # Статьи УК РФ с описаниями (полный список)
        articles_list = [
            "Статья 1. Уголовное законодательство Российской Федерации",
            "Статья 2. Задачи Уголовного кодекса Российской Федерации",
            "Статья 3. Принцип законности",
            "Статья 4. Принцип равенства граждан перед законом",
            "Статья 5. Принцип вины",
            "Статья 6. Принцип справедливости",
            "Статья 7. Принцип гуманизма",
            "Статья 8. Основание уголовной ответственности",
            "Статья 9. Действие уголовного закона во времени",
            "Статья 10. Обратная сила уголовного закона",
            "Статья 11. Действие уголовного закона на территории РФ",
            "Статья 12. Действие уголовного закона вне пределов РФ",
            "Статья 13. Выдача лиц, совершивших преступление",
            "Статья 14. Понятие преступления",
            "Статья 15. Категории преступлений",
            "Статья 16. Неоднократность преступлений",
            "Статья 17. Совокупность преступлений",
            "Статья 18. Рецидив преступлений",
            "Статья 19. Общие условия уголовной ответственности",
            "Статья 20. Возраст уголовной ответственности",
            "Статья 21. Невменяемость",
            "Статья 22. Психическое расстройство",
            "Статья 23. Состояние опьянения",
            "Статья 24. Формы вины",
            "Статья 25. Преступление, совершенное умышленно",
            "Статья 26. Преступление, совершенное по неосторожности",
            "Статья 27. Две формы вины",
            "Статья 28. Невиновное причинение вреда",
            "Статья 29. Оконченное и неоконченное преступления",
            "Статья 30. Приготовление и покушение",
            "Статья 31. Добровольный отказ",
            "Статья 32. Понятие соучастия",
            "Статья 33. Виды соучастников",
            "Статья 34. Ответственность соучастников",
            "Статья 35. Совершение преступления группой лиц",
            "Статья 36. Эксцесс исполнителя",
            "Статья 37. Необходимая оборона",
            "Статья 38. Задержание лица",
            "Статья 39. Крайняя необходимость",
            "Статья 40. Физическое или психическое принуждение",
            "Статья 41. Обоснованный риск",
            "Статья 42. Исполнение приказа",
            "Статья 43. Понятие и цели наказания",
            "Статья 44. Виды наказаний",
            "Статья 45. Основные и дополнительные наказания",
            "Статья 46. Штраф",
            "Статья 47. Лишение права занимать должности",
            "Статья 48. Лишение званий и наград",
            "Статья 49. Обязательные работы",
            "Статья 50. Исправительные работы",
            "Статья 51. Ограничение по военной службе",
            "Статья 52. Конфискация имущества",
            "Статья 53. Ограничение свободы",
            "Статья 54. Арест",
            "Статья 55. Дисциплинарная воинская часть",
            "Статья 56. Лишение свободы на срок",
            "Статья 57. Пожизненное лишение свободы",
            "Статья 58. Вид исправительного учреждения",
            "Статья 59. Смертная казнь",
            "Статья 60. Общие начала назначения наказания",
            "Статья 61. Смягчающие обстоятельства",
            "Статья 62. Назначение наказания при смягчающих обстоятельствах",
            "Статья 63. Отягчающие обстоятельства",
            "Статья 64. Более мягкое наказание",
            "Статья 65. Вердикт присяжных",
            "Статья 66. Неоконченное преступление",
            "Статья 67. Соучастие",
            "Статья 68. Рецидив",
            "Статья 69. Совокупность преступлений",
            "Статья 70. Совокупность приговоров",
            "Статья 71. Определение сроков",
            "Статья 72. Исчисление сроков",
            "Статья 73. Условное осуждение",
            "Статья 74. Отмена условного осуждения",
            "Статья 75. Деятельное раскаяние",
            "Статья 76. Примирение с потерпевшим",
            "Статья 77. Изменение обстановки",
            "Статья 78. Истечение сроков давности",
            "Статья 79. Условно-досрочное освобождение",
            "Статья 80. Замена наказания",
            "Статья 81. Болезнь",
            "Статья 82. Отсрочка беременным",
            "Статья 83. Истечение сроков приговора",
            "Статья 84. Амнистия",
            "Статья 85. Помилование",
            "Статья 86. Судимость",
            "Статья 105. Убийство",
            "Статья 106. Убийство матерью новорожденного ребенка",
            "Статья 107. Убийство, совершенное в состоянии аффекта",
            "Статья 108. Убийство, совершенное при превышении пределов необходимой обороны",
            "Статья 109. Причинение смерти по неосторожности",
            "Статья 110. Доведение до самоубийства",
            "Статья 111. Умышленное причинение тяжкого вреда здоровью",
            "Статья 112. Умышленное причинение средней тяжести вреда здоровью",
            "Статья 113. Причинение тяжкого или средней тяжести вреда здоровью в состоянии аффекта",
            "Статья 114. Причинение тяжкого или средней тяжести вреда здоровью при превышении пределов необходимой обороны",
            "Статья 115. Умышленное причинение легкого вреда здоровью",
            "Статья 116. Побои",
            "Статья 117. Истязание",
            "Статья 118. Причинение тяжкого вреда здоровью по неосторожности",
            "Статья 119. Угроза убийством или причинением тяжкого вреда здоровью",
            "Статья 120. Принуждение к изъятию органов или тканей человека для трансплантации",
            "Статья 121. Заражение венерической болезнью",
            "Статья 122. Заражение ВИЧ-инфекцией",
            "Статья 123. Незаконное производство аборта",
            "Статья 124. Неоказание помощи больному",
            "Статья 125. Оставление в опасности",
            "Статья 126. Похищение человека",
            "Статья 127. Незаконное лишение свободы",
            "Статья 127.1. Торговля людьми",
            "Статья 127.2. Использование рабского труда",
            "Статья 128. Незаконное помещение в психиатрический стационар",
            "Статья 128.1. Клевета",
            "Статья 129. Утратила силу",
            "Статья 130. Утратила силу",
            "Статья 131. Изнасилование",
            "Статья 132. Насильственные действия сексуального характера",
            "Статья 133. Понуждение к действиям сексуального характера",
            "Статья 134. Половое сношение и иные действия сексуального характера с лицом, не достигшим шестнадцатилетнего возраста",
            "Статья 135. Развратные действия",
            "Статья 136. Нарушение равенства прав и свобод человека и гражданина",
            "Статья 137. Нарушение неприкосновенности частной жизни",
            "Статья 138. Нарушение тайны переписки, телефонных переговоров, почтовых, телеграфных или иных сообщений",
            "Статья 138.1. Незаконный оборот специальных технических средств, предназначенных для негласного получения информации",
            "Статья 139. Нарушение неприкосновенности жилища",
            "Статья 140. Отказ в предоставлении гражданину информации",
            "Статья 141. Воспрепятствование осуществлению избирательных прав или работе избирательных комиссий",
            "Статья 141.1. Нарушение порядка финансирования избирательной кампании кандидата, избирательного объединения",
            "Статья 142. Фальсификация избирательных документов, документов референдума",
            "Статья 142.1. Фальсификация результатов голосования",
            "Статья 143. Нарушение требований охраны труда",
            "Статья 144. Воспрепятствование законной профессиональной деятельности журналистов",
            "Статья 145. Необоснованный отказ в приеме на работу или необоснованное увольнение беременной женщины или женщины, имеющей детей в возрасте до трех лет",
            "Статья 145.1. Невыплата заработной платы, пенсий, стипендий, пособий и иных выплат",
            "Статья 146. Нарушение авторских и смежных прав",
            "Статья 147. Нарушение изобретательских и патентных прав",
            "Статья 148. Воспрепятствование осуществлению права на свободу совести и вероисповеданий",
            "Статья 148.1. Нарушение права на свободу совести и вероисповеданий",
            "Статья 149. Воспрепятствование проведению собрания, митинга, демонстрации, шествия или пикетирования",
            "Статья 150. Вовлечение несовершеннолетнего в совершение преступления",
            "Статья 151. Вовлечение несовершеннолетнего в совершение антиобщественных действий",
            "Статья 151.1. Розничная продажа несовершеннолетним алкогольной продукции",
            "Статья 152. Утратила силу",
            "Статья 153. Подмена ребенка",
            "Статья 154. Незаконное усыновление (удочерение)",
            "Статья 155. Разглашение тайны усыновления (удочерения)",
            "Статья 156. Неисполнение обязанностей по воспитанию несовершеннолетнего",
            "Статья 157. Злостное уклонение от уплаты средств на содержание детей или нетрудоспособных родителей",
            "Статья 158. Кража",
            "Статья 159. Мошенничество",
            "Статья 159.1. Мошенничество в сфере кредитования",
            "Статья 159.2. Мошенничество при получении выплат",
            "Статья 159.3. Мошенничество с использованием платежных карт",
            "Статья 159.4. Мошенничество в предпринимательской деятельности",
            "Статья 159.5. Мошенничество в сфере страхования",
            "Статья 159.6. Мошенничество в сфере компьютерной информации",
            "Статья 160. Присвоение или растрата",
            "Статья 161. Грабеж",
            "Статья 162. Разбой",
            "Статья 163. Вымогательство",
            "Статья 164. Хищение предметов, имеющих особую ценность",
            "Статья 165. Причинение имущественного ущерба путем обмана или злоупотребления доверием",
            "Статья 166. Неправомерное завладение автомобилем или иным транспортным средством без цели хищения",
            "Статья 167. Умышленные уничтожение или повреждение имущества",
            "Статья 168. Уничтожение или повреждение имущества по неосторожности",
            "Статья 169. Воспрепятствование законной предпринимательской или иной деятельности",
            "Статья 170. Регистрация незаконных сделок с землей",
            "Статья 170.1. Фальсификация единого государственного реестра юридических лиц, реестра владельцев ценных бумаг",
            "Статья 170.2. Внесение заведомо ложных сведений в межевой план, технический план, акт обследования, проект межевания земельного участка",
            "Статья 171. Незаконное предпринимательство",
            "Статья 171.1. Производство, приобретение, хранение, перевозка или сбыт немаркированных товаров и продукции",
            "Статья 171.2. Незаконные организация и проведение азартных игр",
            "Статья 171.3. Незаконные производство и (или) оборот этилового спирта, алкогольной и спиртосодержащей продукции",
            "Статья 171.4. Незаконная розничная продажа алкогольной и спиртосодержащей продукции",
            "Статья 172. Незаконная банковская деятельность",
            "Статья 172.1. Легализация (отмывание) денежных средств или иного имущества, приобретенных лицом в результате совершения им преступления",
            "Статья 172.2. Организация деятельности по приему ставок и (или) выплате денежных средств в букмекерских конторах и тотализаторах",
            "Статья 172.3. Незаконные организация и проведение азартных игр с использованием информационно-телекоммуникационных сетей",
            "Статья 173. Утратила силу",
            "Статья 173.1. Неправомерное использование инсайдерской информации",
            "Статья 173.2. Неправомерные действия при банкротстве",
            "Статья 174. Легализация (отмывание) денежных средств или иного имущества, приобретенных другими лицами преступным путем",
            "Статья 174.1. Легализация (отмывание) денежных средств или иного имущества, приобретенных лицом в результате совершения им преступления",
            "Статья 175. Приобретение или сбыт имущества, заведомо добытого преступным путем",
            "Статья 176. Незаконное получение кредита",
            "Статья 177. Злостное уклонение от погашения кредиторской задолженности",
            "Статья 178. Ограничение конкуренции",
            "Статья 179. Принуждение к совершению сделки или к отказу от ее совершения",
            "Статья 180. Незаконное использование средств индивидуализации товаров (работ, услуг)",
            "Статья 181. Нарушение правил изготовления и использования государственных пробирных клейм",
            "Статья 182. Утратила силу",
            "Статья 183. Незаконные получение и разглашение сведений, составляющих коммерческую, налоговую или банковскую тайну",
            "Статья 184. Оказание противоправного влияния на результата официального спортивного соревнования или зрелищного коммерческого конкурса",
            "Статья 185. Злоупотребления при эмиссии ценных бумаг",
            "Статья 185.1. Злостное уклонение от раскрытия или предоставления информации, определенной законодательством Российской Федерации о ценных бумагах",
            "Статья 185.2. Нарушение порядка учета прав на ценные бумаги",
            "Статья 185.3. Манипулирование рынком",
            "Статья 185.4. Воспрепятствование осуществлению или незаконное ограничение прав владельцев ценных бумаг",
            "Статья 185.5. Фальсификация решения общего собрания акционеров (участников) хозяйственного общества или решения совета директоров",
            "Статья 185.6. Неправомерное использование инсайдерской информации",
            "Статья 186. Изготовление или сбыт поддельных денег или ценных бумаг",
            "Статья 187. Изготовление или сбыт поддельных кредитных либо расчетных карт и иных платежных документов",
            "Статья 188. Утратила силу",
            "Статья 189. Незаконные экспорт из Российской Федерации или передача сырья, материалов, оборудования, технологий, научно-технической информации",
            "Статья 190. Невозвращение на территорию Российской Федерации предметов художественного, исторического и археологического достояния народов",
            "Статья 191. Незаконный оборот драгоценных металлов, природных драгоценных камней или жемчуга",
            "Статья 191.1. Приобретение, хранение, перевозка, переработка в целях сбыта или сбыт заведомо незаконно заготовленной древесины",
            "Статья 192. Нарушение правил сдачи государству драгоценных металлов и драгоценных камней",
            "Статья 193. Уклонение от исполнения обязанностей по репатриации денежных средств в иностранной валюте или валюте Российской Федерации",
            "Статья 193.1. Совершение валютных операций по переводу денежных средств в иностранной валюте или валюте Российской Федерации",
            "Статья 194. Уклонение от уплаты таможенных платежей, взимаемых с организации или физического лица",
            "Статья 195. Неправомерные действия при банкротстве",
            "Статья 196. Преднамеренное банкротство",
            "Статья 197. Фиктивное банкротство",
            "Статья 198. Уклонение физического лица от уплаты налогов, сборов",
            "Статья 199. Уклонение от уплаты налогов, сборов с организации",
            "Статья 199.1. Неисполнение обязанностей налогового агента",
            "Статья 199.2. Сокрытие денежных средств либо имущества организации или индивидуального предпринимателя",
            "Статья 199.3. Уклонение страхователя - физического лица от уплаты страховых взносов",
            "Статья 199.4. Уклонение страхователя - организации от уплаты страховых взносов",
            "Статья 200. Утратила силу",
            "Статья 200.1. Контрабанда наличных денежных средств и (или) денежных инструментов",
            "Статья 200.2. Контрабанда алкогольной продукции и (или) табачных изделий",
            "Статья 200.3. Контрабанда сильнодействующих, ядовитых, отравляющих, взрывчатых, радиоактивных веществ",
            "Статья 200.4. Контрабанда культурных ценностей",
            "Статья 200.5. Контрабанда стратегически важных товаров и ресурсов",
            "Статья 200.6. Контрабанда наркотических средств, психотропных веществ, их прекурсоров или аналогов",
            "Статья 200.7. Контрабанда оружия, боеприпасов, взрывчатых веществ, взрывных устройств",
            "Статья 201. Злоупотребление полномочиями",
            "Статья 201.1. Злоупотребление полномочиями при выполнении государственного оборонного заказа",
            "Статья 202. Злоупотребление полномочиями частными нотариусами и аудиторами",
            "Статья 203. Превышение полномочий частным детективом или работником частной охранной организации",
            "Статья 204. Коммерческий подкуп",
            "Статья 204.1. Посредничество в коммерческом подкупе",
            "Статья 204.2. Мелкий коммерческий подкуп",
            "Статья 205. Террористический акт",
            "Статья 205.1. Содействие террористической деятельности",
            "Статья 205.2. Публичные призывы к осуществлению террористической деятельности или публичное оправдание терроризма",
            "Статья 205.3. Прохождение обучения в целях осуществления террористической деятельности",
            "Статья 205.4. Организация террористического сообщества и участие в нем",
            "Статья 205.5. Организация деятельности террористической организации и участие в деятельности такой организации",
            "Статья 205.6. Несообщение о преступлении",
            "Статья 206. Захват заложника",
            "Статья 207. Заведомо ложное сообщение об акте терроризма",
            "Статья 208. Организация незаконного вооруженного формирования или участие в нем",
            "Статья 209. Бандитизм",
            "Статья 210. Организация преступного сообщества (преступной организации) или участие в нем (ней)",
            "Статья 211. Угон судна воздушного или водного транспорта либо железнодорожного подвижного состава",
            "Статья 212. Массовые беспорядки",
            "Статья 213. Хулиганство",
            "Статья 214. Вандализм",
            "Статья 215. Нарушение правил безопасности на объектах атомной энергетики",
            "Статья 215.1. Прекращение или ограничение подачи электрической энергии либо отключение от других источников жизнеобеспечения",
            "Статья 215.2. Приведение в негодность объектов жизнеобеспечения",
            "Статья 215.3. Приведение в негодность нефтепроводов, нефтепродуктопроводов, газопроводов",
            "Статья 215.4. Незаконное прекращение или ограничение подачи электрической энергии либо отключение от других источников жизнеобеспечения",
            "Статья 216. Нарушение правил безопасности при ведении горных, строительных или иных работ",
            "Статья 216.1. Нарушение требований обеспечения безопасности и антитеррористической защищенности объектов топливно-энергетического комплекса",
            "Статья 217. Нарушение требований промышленной безопасности опасных производственных объектов",
            "Статья 217.1. Нарушение требований обеспечения безопасности объектов топливно-энергетического комплекса",
            "Статья 217.2. Нарушение требований обеспечения транспортной безопасности",
            "Статья 218. Нарушение правил учета, хранения, перевозки и использования взрывчатых, легковоспламеняющихся веществ",
            "Статья 219. Нарушение требований пожарной безопасности",
            "Статья 219.1. Нарушение требований обеспечения безопасности при ведении строительных работ",
            "Статья 220. Незаконное обращение с ядерными материалами или радиоактивными веществами",
            "Статья 221. Хищение либо вымогательство ядерных материалов или радиоактивных веществ",
            "Статья 222. Незаконные приобретение, передача, сбыт, хранение, перевозка или ношение оружия, боеприпасов, взрывчатых веществ",
            "Статья 222.1. Незаконные приобретение, передача, сбыт, хранение, перевозка или ношение основных частей огнестрельного оружия",
            "Статья 223. Незаконное изготовление оружия",
            "Статья 223.1. Незаконное изготовление, ремонт или переделка огнестрельного оружия, комплектующих деталей к нему",
            "Статья 224. Небрежное хранение огнестрельного оружия",
            "Статья 225. Ненадлежащее исполнение обязанностей по охране оружия, боеприпасов, взрывчатых веществ",
            "Статья 226. Хищение либо вымогательство оружия, боеприпасов, взрывчатых веществ",
            "Статья 226.1. Контрабанда сильнодействующих веществ",
            "Статья 227. Пиратство",
            "Статья 228. Незаконные приобретение, хранение, перевозка, изготовление, переработка наркотических средств, психотропных веществ",
            "Статья 228.1. Незаконные производство, сбыт или пересылка наркотических средств, психотропных веществ",
            "Статья 228.2. Нарушение правил оборота наркотических средств или психотропных веществ",
            "Статья 228.3. Незаконные приобретение, хранение или перевозка прекурсоров наркотических средств",
            "Статья 228.4. Незаконные производство, сбыт или пересылка прекурсоров наркотических средств",
            "Статья 229. Хищение либо вымогательство наркотических средств или психотропных веществ",
            "Статья 229.1. Контрабанда наркотических средств, психотропных веществ",
            "Статья 230. Склонение к потреблению наркотических средств, психотропных веществ",
            "Статья 231. Незаконное культивирование растений, содержащих наркотические средства",
            "Статья 232. Организация либо содержание притонов для потребления наркотических средств, психотропных веществ",
            "Статья 233. Незаконная выдача либо подделка рецептов или иных документов на получение наркотических средств",
            "Статья 234. Незаконный оборот сильнодействующих или ядовитых веществ в целях сбыта",
            "Статья 234.1. Незаконный оборот новых потенциально опасных психоактивных веществ",
            "Статья 235. Незаконное осуществление медицинской деятельности или фармацевтической деятельности",
            "Статья 235.1. Незаконное производство лекарственных средств и медицинских изделий",
            "Статья 236. Нарушение санитарно-эпидемиологических правил",
            "Статья 237. Сокрытие информации об обстоятельствах, создающих опасность для жизни или здоровья людей",
            "Статья 238. Производство, хранение, перевозка либо сбыт товаров и продукции, не отвечающих требованиям безопасности",
            "Статья 238.1. Обращение фальсифицированных, недоброкачественных и незарегистрированных лекарственных средств",
            "Статья 239. Организация объединения, посягающего на личность и права граждан",
            "Статья 240. Вовлечение в занятие проституцией",
            "Статья 241. Организация занятия проституцией",
            "Статья 242. Незаконное распространение порнографических материалов или предметов",
            "Статья 242.1. Изготовление и оборот материалов или предметов с порнографическими изображениями несовершеннолетних",
            "Статья 242.2. Использование несовершеннолетнего в целях изготовления порнографических материалов или предметов",
            "Статья 243. Уничтожение или повреждение объектов культурного наследия",
            "Статья 243.1. Нарушение требований сохранения или использования объектов культурного наследия",
            "Статья 243.2. Незаконные поиск и (или) изъятие археологических предметов",
            "Статья 243.3. Уклонение от исполнения обязанностей по приведению земель в пригодное для использования состояние",
            "Статья 244. Надругательство над телами умерших и местами их захоронения",
            "Статья 244.1. Надругательство над местами захоронения участников борьбы с фашизмом",
            "Статья 245. Жестокое обращение с животными",
            "Статья 245.1. Натравливание животных на людей",
            "Статья 245.2. Организация и проведение боев животных",
            "Статья 246. Нарушение правил охраны окружающей среды при производстве работ",
            "Статья 247. Нарушение правил обращения экологически опасных веществ и отходов",
            "Статья 248. Нарушение правил безопасности при обращении с микробиологическими агентами или токсинами",
            "Статья 249. Нарушение ветеринарных правил и правил, установленных для борьбы с болезнями и вредителями растений",
            "Статья 250. Загрязнение вод",
            "Статья 251. Загрязнение атмосферы",
            "Статья 252. Загрязнение морской среды",
            "Статья 253. Нарушение законодательства Российской Федерации о континентальном шельфе и об исключительной экономической зоне",
            "Статья 254. Порча земли",
            "Статья 255. Нарушение правил охраны и использования недр",
            "Статья 256. Незаконная добыча водных биологических ресурсов",
            "Статья 257. Нарушение правил охраны водных биологических ресурсов",
            "Статья 258. Незаконная охота",
            "Статья 258.1. Незаконные добыча и оборот особо ценных диких животных",
            "Статья 259. Уничтожение критических местообитаний для организмов, занесенных в Красную книгу",
            "Статья 260. Незаконная рубка лесных насаждений",
            "Статья 261. Уничтожение или повреждение лесных насаждений",
            "Статья 262. Нарушение режима особо охраняемых природных территорий и природных объектов",
            "Статья 263. Нарушение правил безопасности движения и эксплуатации железнодорожного, воздушного или водного транспорта",
            "Статья 263.1. Нарушение требований в области транспортной безопасности",
            "Статья 264. Нарушение правил дорожного движения и эксплуатации транспортных средств",
            "Статья 264.1. Нарушение правил дорожного движения лицом, подвергнутым административному наказанию",
            "Статья 265. Утратила силу",
            "Статья 266. Недоброкачественный ремонт транспортных средств и выпуск их в эксплуатацию с техническими неисправностями",
            "Статья 267. Приведение в негодность транспортных средств или путей сообщения",
            "Статья 267.1. Действия, угрожающие безопасной эксплуатации транспортных средств",
            "Статья 268. Нарушение правил, обеспечивающих безопасную работу транспорта",
            "Статья 269. Нарушение правил безопасности при строительстве, эксплуатации или ремонте магистральных трубопроводов",
            "Статья 270. Неоказание капитаном судна помощи терпящим бедствие",
            "Статья 271. Нарушение правил международных полетов",
            "Статья 272. Неправомерный доступ к компьютерной информации",
            "Статья 273. Создание, использование и распространение вредоносных компьютерных программ",
            "Статья 274. Нарушение правил эксплуатации средств хранения, обработки или передачи компьютерной информации",
            "Статья 274.1. Неправомерное воздействие на критическую информационную инфраструктуру",
            "Статья 275. Государственная измена",
            "Статья 276. Шпионаж",
            "Статья 277. Посягательство на жизнь государственного или общественного деятеля",
            "Статья 278. Насильственный захват власти или насильственное удержание власти",
            "Статья 279. Вооруженный мятеж",
            "Статья 280. Публичные призывы к осуществлению экстремистской деятельности",
            "Статья 280.1. Публичные призывы к осуществлению действий, направленных на нарушение территориальной целостности",
            "Статья 281. Диверсия",
            "Статья 282. Возбуждение ненависти либо вражды, а равно унижение человеческого достоинства",
            "Статья 282.1. Организация экстремистского сообщества",
            "Статья 282.2. Организация деятельности экстремистской организации",
            "Статья 282.3. Финансирование экстремистской деятельности",
            "Статья 283. Разглашение государственной тайны",
            "Статья 283.1. Незаконное получение сведений, составляющих государственную тайны",
            "Статья 284. Утрата документов, содержащих государственную тайну",
            "Статья 285. Злоупотребление должностными полномочиями",
            "Статья 285.1. Нецелевое расходование бюджетных средств",
            "Статья 285.2. Нецелевое расходование средств государственных внебюджетных фондов",
            "Статья 285.3. Внесение в единые государственные реестры заведомо недостоверных сведений",
            "Статья 285.4. Злоупотребление полномочиями при выполнении государственного оборонного заказа",
            "Статья 286. Превышение должностных полномочия",
            "Статья 286.1. Неисполнение сотрудником органа внутренних дел приказа",
            "Статья 287. Отказ в предоставлении информации Федеральному Собранию Российской Федерации или Счетной палате Российской Федерации",
            "Статья 288. Присвоение полномочий должностного лица",
            "Статья 289. Незаконное участие в предпринимательской деятельности",
            "Статья 290. Получение взятки",
            "Статья 291. Дача взятки",
            "Статья 291.1. Посредничество во взяточничестве",
            "Статья 291.2. Мелкое взяточничество",
            "Статья 292. Служебный подлог",
            "Статья 292.1. Незаконная выдача паспорта гражданина Российской Федерации",
            "Статья 293. Халатность",
            "Статья 293.1. Неисполнение обязанностей по воспитанию несовершеннолетнего",
            "Статья 294. Воспрепятствование осуществлению правосудия и производству предварительного расследования",
            "Статья 295. Посягательство на жизнь лица, осуществляющего правосудие или предварительное расследование",
            "Статья 296. Угроза или насильственные действия в связи с осуществлением правосудия или производством предварительного расследования",
            "Статья 297. Неуважение к суду",
            "Статья 298. Утратила силу",
            "Статья 298.1. Клевета в отношении судьи, присяжного заседателя, прокурора, следователя, лица, производящего дознание",
            "Статья 299. Привлечение заведомо невиновного к уголовной ответственности",
            "Статья 300. Незаконное освобождение от уголовной ответственности",
            "Статья 301. Незаконные задержание, заключение под стражу или содержание под стражей",
            "Статья 302. Принуждение к даче показаний",
            "Статья 303. Фальсификация доказательств",
            "Статья 304. Провокация взятки либо коммерческого подкупа",
            "Статья 305. Вынесение заведомо неправосудных приговора, решения или иного судебного акта",
            "Статья 306. Заведомо ложный донос",
            "Статья 307. Заведомо ложные показание, заключение эксперта или неправильный перевод",
            "Статья 308. Отказ свидетеля или потерпевшего от дачи показаний",
            "Статья 309. Подкуп или принуждение к даче показаний или уклонению от дачи показаний",
            "Статья 310. Разглашение данных предварительного расследования",
            "Статья 311. Разглашение сведений о мерах безопасности, применяемых в отношении судьи и участников уголовного процесса",
            "Статья 312. Незаконные действия в отношении имущества, подвергнутого описи или аресту",
            "Статья 313. Побег из места лишения свободы, из-под ареста или из-под стражи",
            "Статья 314. Уклонение от отбывания лишения свободы",
            "Статья 314.1. Уклонение от административного надзора",
            "Статья 315. Неисполнение приговора суда, решения суда или иного судебного акта",
            "Статья 316. Укрывательство преступлений",
            "Статья 317. Посягательство на жизнь сотрудника правоохранительного органа",
            "Статья 318. Применение насилия в отношении представителя власти",
            "Статья 319. Оскорбление представителя власти",
            "Статья 320. Разглашение сведений о мерах безопасности, применяемых в отношении должностного лица правоохранительного органа",
            "Статья 321. Дезорганизация деятельности учреждений, обеспечивающих изоляцию от общества",
            "Статья 322. Незаконное пересечение Государственной границы Российской Федерации",
            "Статья 322.1. Организация незаконной миграции",
            "Статья 323. Противоправное изменение Государственной границы Российской Федерации",
            "Статья 324. Приобретение или сбыт официальных документов и государственных наград",
            "Статья 325. Похищение или повреждение документов, штампов, печатей",
            "Статья 325.1. Неправомерное завладение государственным регистрационным знаком транспортного средства",
            "Статья 326. Подделка или уничтожение идентификационного номера транспортного средства",
            "Статья 327. Подделка, изготовление или сбыт поддельных документов, государственных наград, штампов, печатей",
            "Статья 327.1. Изготовление, сбыт поддельных акцизных марок, специальных марок или знаков соответствия",
            "Статья 328. Уклонение от прохождения военной и альтернативной гражданской службы",
            "Статья 329. Надругательство над Государственным гербом Российской Федерации или Государственным флагом Российской Федерации",
            "Статья 330. Самоуправство",
            "Статья 330.1. Злостное уклонение от исполнения обязанностей, определенных законодательством Российской Федерации",
            "Статья 330.2. Организация массовых беспорядков",
            "Статья 331. Понятие преступлений против военной службы",
            "Статья 332. Неисполнение приказа",
            "Статья 333. Сопротивление начальнику или принуждение его к нарушению обязанностей военной службы",
            "Статья 334. Насильственные действия в отношении начальника",
            "Статья 335. Нарушение уставных правил взаимоотношений между военнослужащими при отсутствии между ними отношений подчиненности",
            "Статья 336. Оскорбление военнослужащего",
            "Статья 337. Самовольное оставление части или места службы",
            "Статья 338. Дезертирство",
            "Статья 339. Уклонение от исполнения обязанностей военной службы путем симуляции болезни",
            "Статья 340. Нарушение правил несения боевого дежурства",
            "Статья 341. Нарушение правил несения пограничной службы",
            "Статья 342. Нарушение уставных правил караульной службы",
            "Статья 343. Нарушение правил несения службы по охране общественного порядка",
            "Статья 344. Нарушение уставных правил несения внутренней службы",
            "Статья 345. Оставление погибающего военного корабля",
            "Статья 346. Умышленные уничтожение или повреждение военного имущества",
            "Статья 347. Уничтожение или повреждение военного имущества по неосторожности",
            "Статья 348. Утрата военного имущества",
            "Статья 349. Нарушение правил обращения с оружием и предметами, представляющими повышенную опасность для окружающих",
            "Статья 350. Нарушение правил вождения или эксплуатации машин",
            "Статья 351. Нарушение правил полетов или подготовки к ним",
            "Статья 352. Нарушение правил кораблевождения",
            "Статья 353. Планирование, подготовка, развязывание или ведение агрессивной войны",
            "Статья 354. Публичные призывы к развязыванию агрессивной войны",
            "Статья 354.1. Реабилитация нацизма",
            "Статья 355. Разработка, производство, накопление, приобретение или сбыт оружия массового поражения",
            "Статья 356. Применение запрещенных средств и методы ведения войны",
            "Статья 357. Геноцид",
            "Статья 358. Экоцид",
            "Статья 359. Наемничество",
            "Статья 360. Нападение на лиц или учреждения, которые пользуются международной защитой",
        ]
        
        # Увеличиваем список для более длинной прокрутки
        return articles_list * 2
    
    def create_creepy_background(self):
        """Создание крипового фона"""
        self.bg_items = []
        
        # Создание теней и разводов (уменьшил количество для производительности)
        for _ in range(10):
            x = random.randint(-100, self.screen_width + 100)
            y = random.randint(-100, self.screen_height + 100)
            width = random.randint(200, 400)
            height = random.randint(200, 400)
            color = random.choice(self.colors['dark'])
            
            shadow = self.canvas.create_oval(
                x, y, x + width, y + height,
                fill=color,
                outline='',
                width=0
            )
            
            self.bg_items.append({
                'type': 'shadow',
                'id': shadow,
                'x': x, 'y': y,
                'width': width, 'height': height,
                'dx': random.uniform(-0.1, 0.1),
                'dy': random.uniform(-0.1, 0.1)
            })
        
        # Создание красных пятен (как кровь) - меньше для производительности
        for _ in range(8):
            x = random.randint(0, self.screen_width)
            y = random.randint(0, self.screen_height)
            size = random.randint(50, 150)
            color = random.choice(self.colors['blood'])
            
            blood = self.canvas.create_oval(
                x, y, x + size, y + size,
                fill=color,
                outline='',
                width=0
            )
            
            self.bg_items.append({
                'type': 'blood',
                'id': blood,
                'x': x, 'y': y,
                'size': size,
                'pulse': random.uniform(0, math.pi * 2)
            })
    
    def create_blood_rivers(self):
        """Создание рек крови (упрощенная версия)"""
        self.rivers = []
        
        for i in range(2):  # Только 2 реки
            river_points = []
            base_y = self.screen_height // 3 * (i + 1)
            
            # Меньше точек для производительности
            for x in range(0, self.screen_width + 100, 80):
                y = base_y + math.sin(x / 150 + i) * 40
                river_points.extend([x - 40, y])
            
            river = self.canvas.create_line(
                river_points,
                fill=random.choice(self.colors['blood']),
                width=random.randint(2, 5),
                smooth=True
            )
            
            self.rivers.append({
                'id': river,
                'points': river_points,
                'phase': i,
                'speed': random.uniform(0.3, 0.7)
            })
    
    def create_spider_webs(self):
        """Создание паутины (упрощенная версия)"""
        self.webs = []
        
        for _ in range(4):  # Меньше паутин
            # Центр паутины
            center_x = random.randint(100, self.screen_width - 100)
            center_y = random.randint(100, self.screen_height - 100)
            radius = random.randint(40, 100)
            
            # Основные лучи
            rays = []
            for angle in range(0, 360, 45):  # Реже лучи
                rad = math.radians(angle)
                end_x = center_x + math.cos(rad) * radius
                end_y = center_y + math.sin(rad) * radius
                ray = self.canvas.create_line(
                    center_x, center_y, end_x, end_y,
                    fill=random.choice(self.colors['web']),
                    width=1
                )
                rays.append(ray)
            
            self.webs.append({
                'center_x': center_x,
                'center_y': center_y,
                'radius': radius,
                'rays': rays,
                'pulse': random.uniform(0, math.pi * 2)
            })
    
    def create_floating_skulls(self):
        """Создание парящих черепов (упрощенная версия)"""
        self.skulls = []
        
        for _ in range(2):  # Только 2 черепа
            x = random.randint(100, self.screen_width - 100)
            y = random.randint(100, self.screen_height - 100)
            
            # Череп (простой круг)
            skull = self.canvas.create_oval(
                x, y, x + 30, y + 40,
                fill='#CCCCCC',
                outline='#666666',
                width=2
            )
            
            self.skulls.append({
                'skull': skull,
                'x': x, 'y': y,
                'dx': random.uniform(-0.3, 0.3),
                'dy': random.uniform(-0.3, 0.3),
                'float': random.uniform(0, math.pi * 2)
            })
    
    def create_dripping_blood(self):
        """Создание капающей крови (упрощенная версия)"""
        self.drips = []
        
        for _ in range(10):  # Меньше капель
            x = random.randint(0, self.screen_width)
            y = 0
            length = random.randint(50, 150)
            speed = random.uniform(0.5, 2)
            
            drip = self.canvas.create_line(
                x, y, x, y + length,
                fill=random.choice(self.colors['blood']),
                width=random.randint(1, 3)
            )
            
            self.drips.append({
                'id': drip,
                'x': x,
                'y': y,
                'length': length,
                'speed': speed,
                'dripping': False
            })
    
    def create_creepy_title(self):
        """Создание крипового заголовка"""
        # Основной текст с эффектом свечения крови
        self.title_id = self.canvas.create_text(
            self.screen_width // 2,
            self.title_y,
            text=self.main_text,
            font=('Arial', 72, 'bold'),  # Более простой шрифт для производительности
            fill='#8B0000',
            justify=tk.CENTER
        )
        
        # Тень текста (как будто написано кровью)
        self.title_shadow = self.canvas.create_text(
            self.screen_width // 2 + 2,
            self.title_y + 2,
            text=self.main_text,
            font=('Arial', 72, 'bold'),
            fill='#330000',
            justify=tk.CENTER
        )
    
    def create_articles(self):
        """Создание текста статей"""
        y = self.scroll_position
        # Меньше статей одновременно для производительности
        for i, article in enumerate(self.articles[:80]):
            # Чередуем цвета для крипового эффекта
            if i % 3 == 0:
                color = '#FF6666'  # Светло-красный
            elif i % 3 == 1:
                color = '#CCCCCC'  # Серый
            else:
                color = '#FF0000'  # Ярко-красный
            
            article_id = self.canvas.create_text(
                self.screen_width // 2,
                y,
                text=article,
                font=('Courier New', 18),  # Более простой шрифт
                fill=color,
                justify=tk.CENTER
            )
            self.article_ids.append(article_id)
            y += 32
    
    def animate_creepy_background(self, current_time):
        """Анимация крипового фона"""
        # Анимация теней и пятен
        for item in self.bg_items:
            if item['type'] == 'shadow':
                item['x'] += item['dx']
                item['y'] += item['dy']
                
                # Плавное движение
                if item['x'] < -200 or item['x'] > self.screen_width + 200:
                    item['dx'] = -item['dx']
                if item['y'] < -200 or item['y'] > self.screen_height + 200:
                    item['dy'] = -item['dy']
                
                self.canvas.coords(
                    item['id'],
                    item['x'], item['y'],
                    item['x'] + item['width'], item['y'] + item['height']
                )
            
            elif item['type'] == 'blood':
                # Пульсация кровяных пятен
                item['pulse'] += 0.03
                pulse_size = math.sin(item['pulse']) * 3 + item['size']
                
                self.canvas.coords(
                    item['id'],
                    item['x'], item['y'],
                    item['x'] + pulse_size, item['y'] + pulse_size
                )
    
    def animate_rivers(self, current_time):
        """Анимация рек крови"""
        for river in self.rivers:
            # Движение волн
            new_points = []
            base_y = self.screen_height // 3 * (self.rivers.index(river) + 1)
            
            for i in range(0, len(river['points']), 2):
                x = river['points'][i]
                wave = math.sin(x / 150 + current_time * river['speed'] + river['phase']) * 30
                new_points.extend([x - 40, base_y + wave])
            
            self.canvas.coords(river['id'], new_points)
    
    def animate_spider_webs(self, current_time):
        """Анимация паутины"""
        for web in self.webs:
            # Пульсация паутины
            web['pulse'] += 0.02
            
            # Меняем прозрачность лучей
            for i, ray in enumerate(web['rays']):
                if i % 2 == 0:
                    self.canvas.itemconfig(ray, fill='#505050')
                else:
                    self.canvas.itemconfig(ray, fill='#404040')
    
    def animate_skulls(self, current_time):
        """Анимация парящих черепов"""
        for skull in self.skulls:
            # Парящее движение
            skull['float'] += 0.04
            skull['x'] += math.sin(skull['float']) * 0.2 + skull['dx'] * 0.05
            skull['y'] += math.cos(skull['float'] * 1.3) * 0.2 + skull['dy'] * 0.05
            
            # Удерживаем в пределах экрана
            skull['x'] = max(0, min(self.screen_width - 30, skull['x']))
            skull['y'] = max(0, min(self.screen_height - 40, skull['y']))
            
            # Обновляем позицию черепа
            self.canvas.coords(skull['skull'], skull['x'], skull['y'], skull['x'] + 30, skull['y'] + 40)
    
    def animate_dripping_blood(self):
        """Анимация капающей крови"""
        for drip in self.drips:
            if not drip['dripping']:
                # Начинаем капать случайно
                if random.random() < 0.005:
                    drip['dripping'] = True
                    drip['y'] = 0
            else:
                # Капаем
                drip['y'] += drip['speed']
                
                # Если достигли низа, начинаем снова
                if drip['y'] > self.screen_height:
                    drip['y'] = 0
                    drip['dripping'] = random.random() < 0.3
                
                # Обновляем позицию
                self.canvas.coords(drip['id'], drip['x'], 0, drip['x'], drip['y'])
    
    def show_voice_message(self, current_time):
        """Показ голосовых сообщений"""
        if current_time - self.voice_timer > 4:  # Реже появляются
            self.voice_timer = current_time
            
            # Удаляем старые сообщения
            for voice_id in self.voice_ids:
                self.canvas.delete(voice_id)
            self.voice_ids = []
            
            # Показываем новое сообщение (иногда)
            if random.random() < 0.5:
                voice_text = random.choice(self.voices)
                x = random.randint(100, self.screen_width - 100)
                y = random.randint(100, self.screen_height - 100)
                
                voice_id = self.canvas.create_text(
                    x, y,
                    text=voice_text,
                    font=('Courier New', 20, 'bold'),
                    fill='#FF0000',
                    justify=tk.CENTER
                )
                self.voice_ids.append(voice_id)
    
    def animate_text(self, current_time):
        """Анимация текста"""
        # Начинаем прокрутку через 1 секунду
        if current_time - self.start_time > 1 and not self.start_scrolling:
            self.start_scrolling = True
        
        if self.start_scrolling:
            # Пульсация свечения заголовка
            self.glow_phase += 0.05
            glow_intensity = (math.sin(self.glow_phase) + 1) / 2
            glow_color = f'#{int(139 + glow_intensity * 116):02x}0000'
            self.canvas.itemconfig(self.title_id, fill=glow_color)
            
            # Прокрутка основного текста
            self.title_y -= self.scroll_speed
            self.canvas.coords(self.title_id, self.screen_width // 2, self.title_y)
            self.canvas.coords(self.title_shadow, self.screen_width // 2 + 2, self.title_y + 2)
            
            # Прокрутка статей
            for article_id in self.article_ids:
                try:
                    current_y = self.canvas.coords(article_id)[1]
                    new_y = current_y - self.scroll_speed
                    self.canvas.coords(article_id, self.screen_width // 2, new_y)
                    
                    # Если текст ушел за верхний край, перемещаем его вниз
                    if new_y < -20:
                        # Находим самую нижнюю позицию
                        max_y = -float('inf')
                        for a_id in self.article_ids:
                            try:
                                y_pos = self.canvas.coords(a_id)[1]
                                if y_pos > max_y:
                                    max_y = y_pos
                            except:
                                continue
                        
                        # Перемещаем статью под самую нижнюю
                        if max_y > -float('inf'):
                            self.canvas.coords(article_id, self.screen_width // 2, max_y + 32)
                except:
                    continue
    
    def animate(self):
        """Основной цикл анимации с оптимизациями"""
        try:
            current_time = time.time()
            elapsed_time = current_time - self.laugh_start_time
            
            # Анимация с фиксированным временным шагом
            self.animate_creepy_background(current_time)
            self.animate_rivers(current_time)
            self.animate_spider_webs(current_time)
            self.animate_skulls(current_time)
            self.animate_dripping_blood()
            self.animate_text(current_time)
            self.show_voice_message(current_time)
            
            # Анимация текста смеха (только в первые 5 секунд)
            if elapsed_time < 5:
                self.animate_laugh_text(current_time)
            else:
                # Удаляем все тексты смеха после 5 секунд
                for laugh in self.laugh_texts:
                    self.canvas.delete(laugh['id'])
                self.laugh_texts = []
            
        except Exception as e:
            # Минимальная обработка ошибок
            pass
        
        # Используем минимальную задержку для лучшего FPS
        self.root.after(5, self.animate)  # Увеличил до 5 мс для стабильности
    
    def run(self):
        """Запуск приложения"""
        self.root.mainloop()

if __name__ == "__main__":
    app = CreepyTextApp()
    app.run()